Ensure that the current code passes the following checks:

1. npm run lint
2. npm run typecheck
3. npm run format
4. npm run test

Follow these rules when fixing:
- Do not change the program logic
- Only make necessary modifications (e.g., formatting adjustments, type fixes, variable renaming)
- Avoid introducing new features or unrelated changes
- Use sub agent to fix issues.